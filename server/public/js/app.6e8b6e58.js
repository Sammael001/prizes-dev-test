(function(e){function t(t){for(var n,o,s=t[0],c=t[1],l=t[2],u=0,p=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);d&&d(t);while(p.length)p.shift()();return a.push.apply(a,l||[]),i()}function i(){for(var e,t=0;t<a.length;t++){for(var i=a[t],n=!0,s=1;s<i.length;s++){var c=i[s];0!==r[c]&&(n=!1)}n&&(a.splice(t--,1),e=o(o.s=i[0]))}return e}var n={},r={app:0},a=[];function o(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=n,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(i,n,function(t){return e[t]}.bind(null,n));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var d=c;a.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"0100":function(e,t,i){e.exports=i.p+"img/img-4.201cccb8.jpg"},"034f":function(e,t,i){"use strict";i("85ec")},"150b":function(e,t,i){},1771:function(e,t,i){var n={"./global.css":"150b","./img-1.png":"3347","./img-2.png":"9651","./img-3.png":"ad7a","./img-4.jpg":"0100","./img-5.png":"acb5","./img-6.png":"cb38","./logo.png":"cf05"};function r(e){var t=a(e);return i(t)}function a(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=a,e.exports=r,r.id="1771"},2899:function(e,t,i){},3347:function(e,t,i){e.exports=i.p+"img/img-1.ad70032e.png"},"3b27":function(e,t,i){"use strict";i("2899")},"56d7":function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("header",{attrs:{id:"navbar"}},[n("img",{attrs:{alt:"rewards logo",src:i("cf05")},on:{click:e.returnFromPrizePage}}),e._m(0)]),e._m(1),e.showSelected?e._e():n("div",[n("p",{attrs:{id:"list-intro"}},[e._v("Here is the full list of prizes that you can win.")]),e.prizesDataLoaded?n("div",[n("ul",{attrs:{id:"prize-ul"}},e._l(e.prizes,(function(t){return n("li",{key:t._id},[n("PrizeCard",{attrs:{name:t.name,description:t.description,imageUrl:t.imageUrl,stock:t.stock,prizeId:t._id},on:{childDetailsClicked:e.setSelectedChild}})],1)})),0)]):e._e(),e.prizesDataLoaded?e._e():n("div",[n("h3",[e._v("...Loading prizes, please wait...")])])]),e.showSelected?n("div",[n("PrizePage",{attrs:{prizeDetails:e.selectedPrize},on:{childConfirmsRedeem:e.updateStock,returnToMain:e.returnFromPrizePage}})],1):e._e(),e._m(2)])},a=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"username"}},[i("div",{attrs:{id:"avatar-placeholder"}}),i("h4",[e._v("Sylvia Moore")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"title-bar"}},[i("h1",[e._v("Rewards")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("footer",[i("p",[i("a",{attrs:{href:"#"}},[e._v("Terms & Conditions")]),e._v(" | "),i("a",{attrs:{href:"#"}},[e._v("Privacy Policy")])])])}],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"prize-card"},[n("img",{attrs:{src:i("1771")("./"+e.imageUrl),alt:e.name}}),n("p",{staticClass:"prize-card-title"},[e._v(e._s(e.name))]),n("button",{on:{click:function(t){return e.showPrizeScreen()}}},[e._v("Details")])])},s=[],c={props:["name","imageUrl","description","stock","prizeId"],data:function(){return{}},methods:{showPrizeScreen:function(){this.$emit("childDetailsClicked",this.prizeId)}}},l=c,d=(i("a7ea"),i("2877")),u=Object(d["a"])(l,o,s,!1,null,null,null),p=u.exports,f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"prize-page"},[n("div",{attrs:{id:"pic-and-redeem-box"}},[n("div",{staticClass:"img-holder"},[n("img",{attrs:{src:i("1771")("./"+e.prizeDetails.imageUrl),alt:e.prizeDetails.name}})]),n("div",{staticClass:"redeem-box"},[n("h2",[e._v(e._s(e.prizeDetails.name))]),n("hr",{staticClass:"small-hr"}),e.available?n("button",{staticClass:"generic-button yellow-button",on:{click:function(t){return e.handleRedeemClick()}}},[e._v("Redeem >")]):e._e(),e.available?e._e():n("button",{staticClass:"button-disabled",attrs:{disabled:""}},[e._v("Sorry, out of stock!")]),n("hr",{staticClass:"small-hr"}),n("p",[e._v(e._s(e.prizeDetails.stock)+" left in stock")])]),n("hr",{staticClass:"big-hr"})]),n("div",{staticClass:"description-box"},[n("h2",[e._v("Description")]),n("p",[e._v(e._s(e.prizeDetails.description))])]),e.showConfirm?n("div",{attrs:{id:"confirm-card-overlay"}},[e.redeemConfirmed?e._e():n("div",{attrs:{id:"confirm-card"}},[n("p",{staticClass:"x-button"},[n("span",{on:{click:e.handleRedeemCancel}},[e._v("X")])]),n("h1",[e._v("Are you sure?")]),n("img",{attrs:{src:i("1771")("./"+e.prizeDetails.imageUrl),alt:e.prizeDetails.name}}),n("p",[e._v("Redeem for "+e._s(e.prizeDetails.name)+"?")]),n("div",{attrs:{id:"confirm-buttons-box"}},[n("button",{staticClass:"generic-button yellow-button",on:{click:e.handleRedeemConfirm}},[e._v("Yes")]),n("button",{staticClass:"generic-button gray-button",on:{click:e.handleRedeemCancel}},[e._v("Cancel")])])]),e.redeemConfirmed?n("div",{attrs:{id:"confirm-card"}},[n("p",{staticClass:"x-button"},[n("span",{on:{click:e.returnToMain}},[e._v("X")])]),n("h1",[e._v("Congratulations!")]),n("p",[e._v("You redeemed")]),n("h3",[e._v(e._s(e.prizeDetails.name))]),n("div",{attrs:{id:"confirm-buttons-box"}},[n("button",{staticClass:"generic-button yellow-button",on:{click:e.returnToMain}},[e._v("More Prizes")])])]):e._e()]):e._e()])},m=[],h={props:["prizeDetails"],data:function(){return{showConfirm:!1,redeemConfirmed:!1,available:!1}},created:function(){this.prizeDetails.stock>0?this.available=!0:this.available=!1},methods:{handleRedeemClick:function(){this.showConfirm=!0},handleRedeemCancel:function(){this.showConfirm=!1},handleRedeemConfirm:function(){this.redeemConfirmed=!0,this.$emit("childConfirmsRedeem",this.prizeDetails._id)},returnToMain:function(){console.log("return to main screen"),this.showConfirm=!1,this.redeemConfirmed=!1,this.$emit("returnToMain")}}},g=h,v=(i("3b27"),Object(d["a"])(g,f,m,!1,null,null,null)),b=v.exports,_=i("bc3a"),z=i.n(_),C={name:"App",components:{PrizeCard:p,PrizePage:b},data:function(){return{prizes:null,prizesDataLoaded:!1,showSelected:!1,selectedPrize:null}},created:function(){var e=this;z.a.get("/api/").then((function(t){e.prizes=t.data,console.log(t.data),e.prizesDataLoaded=!0}))},methods:{setSelectedChild:function(e){var t=this;console.log("Selected child with ID of",e),z.a.get("/api/prize/?id=".concat(e)).then((function(e){console.log(e.data),t.selectedPrize=e.data,t.showSelected=!0}))},updateStock:function(e){var t=this;console.log("Decreasing stock of child with ID of",e),z.a.get("/api/redeem/?id=".concat(e)).then((function(e){console.log(e),z.a.get("/api/").then((function(e){t.prizes=e.data,console.log("Prizes updated, new data:"),console.log(e.data)}))}))},returnFromPrizePage:function(){this.showSelected=!1,this.selectedPrize=null}}},w=C,y=(i("034f"),Object(d["a"])(w,r,a,!1,null,null,null)),P=y.exports;i("150b");n["a"].config.productionTip=!1,new n["a"]({render:function(e){return e(P)}}).$mount("#app")},"85ec":function(e,t,i){},9651:function(e,t,i){e.exports=i.p+"img/img-2.47fd3c74.png"},a7ea:function(e,t,i){"use strict";i("b542")},acb5:function(e,t,i){e.exports=i.p+"img/img-5.28f91920.png"},ad7a:function(e,t,i){e.exports=i.p+"img/img-3.a0029111.png"},b542:function(e,t,i){},cb38:function(e,t,i){e.exports=i.p+"img/img-6.88df123a.png"},cf05:function(e,t,i){e.exports=i.p+"img/logo.13235a00.png"}});
//# sourceMappingURL=app.6e8b6e58.js.map